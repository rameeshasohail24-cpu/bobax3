<!doctype html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Amazing Baking Recipes</title>
</head>
<body>
    <header>
        <h1>ü•ê Amazing Baking Recipes</h1>
        <div class="search" role="search" aria-label="Search recipes">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M21 21l-4.35-4.35" stroke="#bdbdbd" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#bdbdbd" stroke-width="2" /></svg>
            <input id="q" placeholder="Search by name, tag or ingredient‚Ä¶" />
            <button id="clear" title="Clear" style="display:none;background:transparent;border:0;color:#777;">‚úï</button>
        </div>
    </header>

    <main>
        <section id="list" class="grid" aria-live="polite"></section>
    </main>

    <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="modal" role="document" id="modal">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
                <div>
                    <h2 id="modal-title"></h2>
                    <div id="modal-sub" style="color:var(--muted);font-size:0.95rem"></div>
                </div>
                <div style="display:flex;gap:8px;align-items:center">
                    <button class="close-x" id="printBtn">Print</button>
                    <button class="close-x" id="close">Close</button>
                </div>
            </div>

            <div class="grid-2">
                <div>
                    <div id="modal-image" style="height:220px;border-radius:8px;background:linear-gradient(135deg,#fff8f2,#fff);display:flex;align-items:center;justify-content:center;color:var(--accent);font-size:56px;margin-bottom:12px"></div>

                    <div>
                        <h3 style="margin:0 0 6px 0">Directions</h3>
                        <ol id="modal-steps" class="steps"></ol>
                    </div>
                </div>

                <aside>
                    <div class="ingredients">
                        <strong>Ingredients</strong>
                        <ul id="modal-ingredients" style="margin:8px 0 0 18px;padding:0"></ul>
                    </div>

                    <div style="margin-top:12px">
                        <div style="display:flex;gap:8px;flex-wrap:wrap" id="modal-tags"></div>
                        <div style="color:var(--muted);margin-top:10px" id="modal-meta"></div>
                    </div>
                </aside>
            </div>

            <div class="print-only" style="margin-top:12px">
                <h3>Printable Recipe</h3>
                <div id="print-version"></div>
            </div>
        </div>
    </div>

    <footer>
        Built for showcasing your baking. Add more recipes in the script section.
    </footer>

    <script>
        // Data: add or edit recipes here
        const recipes = [
            {
                id: 'lemon-bars',
                name: 'Lemon Bars',
                desc: 'Buttery crust with tangy lemon curd.',
                emoji: 'üçã',
                tags: ['citrus','dessert','tray-bake'],
                time: '1 hr',
                servings: '9 bars',
                ingredients: [
                    '1 cup butter, softened',
                    '1/2 cup powdered sugar',
                    '2 cups all-purpose flour',
                    '4 large eggs',
                    '1 1/2 cups granulated sugar',
                    '1/3 cup lemon juice',
                    '2 tbsp lemon zest',
                    '1/4 cup all-purpose flour'
                ],
                steps: [
                    'Preheat oven to 350¬∞F (175¬∞C). Line a 9x13 pan with parchment.',
                    'Cream butter and powdered sugar; mix in 2 cups flour until just combined. Press into pan and bake 18-22 mins until set.',
                    'Whisk eggs, granulated sugar, lemon juice, zest, and 1/4 cup flour. Pour over hot crust.',
                    'Bake 20-25 mins more until filling is set. Cool completely and dust with powdered sugar. Slice and serve.'
                ]
            },
            {
                id: 'chocolate-chip-cookies',
                name: 'Classic Chocolate Chip Cookies',
                desc: 'Crisp edges, gooey centers ‚Äî a timeless favorite.',
                emoji: 'üç™',
                tags: ['cookies','chocolate'],
                time: '45 mins',
                servings: '24 cookies',
                ingredients: [
                    '1 cup unsalted butter, softened',
                    '3/4 cup brown sugar',
                    '1/2 cup granulated sugar',
                    '2 eggs',
                    '2 1/4 cups all-purpose flour',
                    '1 tsp baking soda',
                    '1 tsp salt',
                    '2 cups chocolate chips'
                ],
                steps: [
                    'Preheat oven to 375¬∞F (190¬∞C). Line baking sheets with parchment.',
                    'Cream butter and sugars until light. Add eggs one at a time.',
                    'Mix in flour, baking soda, and salt. Fold in chocolate chips.',
                    'Scoop tablespoon-sized portions 2 inches apart. Bake 9-11 mins until edges golden.'
                ]
            },
            {
                id: 'sourdough-bread',
                name: 'Simple Sourdough Loaf',
                desc: 'A rustic loaf with open crumb and crisp crust.',
                emoji: 'üçû',
                tags: ['bread','yeast','artisan'],
                time: '12-24 hrs (including fermentation)',
                servings: '1 large loaf',
                ingredients: [
                    '500g bread flour',
                    '375g water (75% hydration)',
                    '100g active sourdough starter',
                    '10g salt'
                ],
                steps: [
                    'Autolyse: Mix flour and water until no dry bits, rest 30‚Äì60 mins.',
                    'Add starter and salt, mix until combined. Perform stretch-and-folds every 30 mins for 2 hours.',
                    'Bulk ferment 3‚Äì6 hours until doubled, then shape and proof in a banneton overnight in fridge.',
                    'Bake in a preheated Dutch oven at 475¬∞F (245¬∞C) for 20 mins covered, then 20‚Äì25 mins uncovered until deep brown.'
                ]
            }
        ];

        // Rendering
        const listEl = document.getElementById('list');
        const qInput = document.getElementById('q');
        const clearBtn = document.getElementById('clear');

        function renderList(filter = '') {
            const term = filter.trim().toLowerCase();
            const filtered = recipes.filter(r => {
                if (!term) return true;
                return (
                    r.name.toLowerCase().includes(term) ||
                    r.desc.toLowerCase().includes(term) ||
                    r.tags.join(' ').toLowerCase().includes(term) ||
                    r.ingredients.join(' ').toLowerCase().includes(term)
                );
            });
            if(!filtered.length){
                listEl.innerHTML = '<div style="grid-column:1/-1;padding:40px;background:#fffefc;border-radius:12px;text-align:center;color:#777">No recipes found. Try a different search.</div>';
                return;
            }
            listEl.innerHTML = filtered.map(r => cardHTML(r)).join('');
            // attach handlers for view buttons
            document.querySelectorAll('[data-view]').forEach(btn=>{
                btn.addEventListener('click', ()=> openModal(btn.dataset.view));
            });
        }

        function cardHTML(r){
            return `
                <article class="card" id="${r.id}" role="article" aria-labelledby="${r.id}-title">
                    <div class="thumb" aria-hidden>${r.emoji}</div>
                    <div class="content">
                        <div>
                            <div class="title" id="${r.id}-title">${r.name}</div>
                            <div class="desc">${r.desc}</div>
                        </div>
                        <div class="meta">
                            ${r.tags.slice(0,3).map(t=>`<div class="tag">${t}</div>`).join('')}
                        </div>
                        <div class="actions">
                            <button class="btn-primary" data-view="${r.id}">View Recipe</button>
                            <button class="btn-ghost" onclick="navigator.clipboard?.writeText(location.href+'#${r.id}')" title="Copy link">Share</button>
                        </div>
                    </div>
                </article>
            `;
        }

        // Modal logic
        const overlay = document.getElementById('overlay');
        const modalTitle = document.getElementById('modal-title');
        const modalSub = document.getElementById('modal-sub');
        const modalImage = document.getElementById('modal-image');
        const modalIngredients = document.getElementById('modal-ingredients');
        const modalSteps = document.getElementById('modal-steps');
        const modalTags = document.getElementById('modal-tags');
        const modalMeta = document.getElementById('modal-meta');
        const printVersion = document.getElementById('print-version');

        function openModal(id){
            const r = recipes.find(x=>x.id===id);
            if(!r) return;
            modalTitle.textContent = r.name;
            modalSub.textContent = r.desc;
            modalImage.textContent = r.emoji;
            modalIngredients.innerHTML = r.ingredients.map(i=>`<li>${i}</li>`).join('');
            modalSteps.innerHTML = r.steps.map(s=>`<li>${s}</li>`).join('');
            modalTags.innerHTML = r.tags.map(t=>`<div class="tag">${t}</div>`).join('');
            modalMeta.textContent = `${r.time} ‚Ä¢ ${r.servings || ''}`;
            printVersion.innerHTML = `
                <strong>${r.name}</strong><br/>
                <em>${r.desc}</em><br/><br/>
                <strong>Ingredients</strong><br/>${r.ingredients.map(i=>`- ${i}`).join('<br/>')}<br/><br/>
                <strong>Directions</strong><br/>${r.steps.map((s,i)=>`${i+1}. ${s}`).join('<br/>')}
            `;
            overlay.style.display = 'flex';
            overlay.setAttribute('aria-hidden','false');
            document.body.style.overflow = 'hidden';
        }

        document.getElementById('close').addEventListener('click', closeModal);
        overlay.addEventListener('click', (e)=>{ if(e.target===overlay) closeModal(); });
        function closeModal(){
            overlay.style.display = 'none';
            overlay.setAttribute('aria-hidden','true');
            document.body.style.overflow = '';
        }

        // search
        qInput.addEventListener('input', e=>{
            const v = e.target.value;
            clearBtn.style.display = v ? 'inline' : 'none';
            renderList(v);
        });
        clearBtn.addEventListener('click', ()=>{ qInput.value=''; clearBtn.style.display='none'; renderList(); qInput.focus(); });

        // print
        document.getElementById('printBtn').addEventListener('click', ()=> window.print());

        // support opening recipe by hash
        function openFromHash(){
            if(location.hash){
                const id = location.hash.slice(1);
                const exists = recipes.some(r=>r.id===id);
                if(exists) openModal(id);
            }
        }
        window.addEventListener('hashchange', openFromHash);

        // initial render
        renderList();
        openFromHash();
    </script>
</body>
</html></div>